<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
				<link rel="stylesheet" href="css/style.css"/>
		<title>Order form</title>
	</head>
	<body>
		<div class="center">
		<div id='app'></div>
		<script type="text/template" id="input-template">
		<div><h1>Меню на сьогодні</h1>
		<h2>Виберіть необхідне</h2>
				<h3>Закуски</h3>
                              <select name="snack" class="form-control">
                                  <option>Бутерброди з ікрою</option>
                                  <option>Помідори по-рівненські</option>
                                  <option>Огірочки малосольні</option>
                              </select>
                <h3>Перші страви</h3>
                              <select name="soups" class="form-control">
                                  <option>Уха</option>
                                  <option>Грибна юшка</option>
                                  <option>Борщ</option>
                              </select>
                  <h3>Другі страви</h3>
                              <select name="mainDishes" class="form-control">
                                  <option>Плов</option>
                                  <option>Банош</option>
                                  <option>Куліш</option>
                              </select>
                   <h3>Напої</h3>
                              <select name="juice" class="form-control">
                                  <option>Апельсиновий сік</option>
                                  <option>Яблучний сік</option>
                                  <option>Виноградний сік</option>
                                  <option>Кава</option>
                                  <option>Чай</option>
                              </select></br>
		<button class='btn-warning btn-lg'>Показати все замовлення</button>
		</div>
		</script>
		<script type="text/template" id="output-template">
		<div>
		<div id='result'><h2>Ви замовили:</h2>
		<%= order %>
		 </div>
		</div>
		</script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js"></script>
		<script type="text/javascript">
			$(function () {
				var app = {};

				app.View = Backbone.View.extend({
					el: "#app",

					events: {
						"click button": "clickHandler"
					},

					initialize: function () {
						this.render();
					},
					clickHandler: function () {
						var snack = $('select[name="snack"]').val();
						var soups = $('select[name="soups"]').val();
						var mainDishes = $('select[name="mainDishes"]').val();
						var juice = $('select[name="juice"]').val();
						var order = snack.concat("</br> ", soups, "</br> ", mainDishes, "</br> ", juice);
						console.log(order);
							this.render({
							order: order
						});
					},

					render: function (result) {
						var template = null;						
						if (!_.isUndefined(result)) {
							template = _.template($("#output-template").html());
						} else {
							template = _.template($("#input-template").html());
						}
						this.$el.html(template(result || {}));
					}
				});

				new app.View();
			});
		</script>	
		</div>			
	</body>
</html>